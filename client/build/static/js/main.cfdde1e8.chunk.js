(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{457:function(e,t){e.exports="data:image/png;base64,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"},474:function(e,t,a){e.exports=a(862)},703:function(e,t,a){},849:function(e,t,a){},862:function(e,t,a){"use strict";a.r(t);a(306),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(475),a(476),a(477),a(478),a(479),a(480),a(481),a(482),a(483),a(335),a(484),a(485),a(217),a(486),a(487),a(488),a(489),a(490),a(491),a(492),a(493),a(494),a(495),a(496),a(497),a(498),a(499),a(500),a(502),a(504),a(505),a(344),a(219),a(506),a(507),a(508),a(509),a(510),a(511),a(512),a(513),a(514),a(515),a(516),a(517),a(518),a(519),a(520),a(521),a(349),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(532),a(533),a(535),a(536),a(537),a(538),a(539),a(540),a(541),a(542),a(543),a(544),a(545),a(546),a(547),a(548),a(549),a(550),a(551),a(552),a(553),a(284),a(555),a(556),a(557),a(558),a(559),a(561),a(562),a(563),a(564),a(565),a(566),a(567),a(568),a(569),a(570),a(571),a(361),a(572),a(573),a(286),a(574),a(575),a(576),a(577),a(227),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(588),a(589),a(590),a(591),a(592),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(605),a(606),a(607),a(608),a(609),a(610),a(611),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(620),a(621),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(629),a(630),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(291),a(638),a(639),a(640),a(641),a(642),a(643),a(644),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(664),a(665),a(666),a(667),a(668),a(669),a(670),a(671),a(672),a(673),a(674),a(387),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(675),a(676),a(677),a(679),a(406),a(407),a(408),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(410),a(688),a(689),a(690),a(692),a(412),a(693),a(413);var r=a(0),n=a.n(r),l=a(27),i=a.n(l),c=(a(703),a(57)),o=a(101),s=a.n(o),m=a(156),u=a(15),d=a.n(u),p="https://youtubeclone2020.herokuapp.com/";function b(){return(b=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("".concat("/api/users","/login"),t).then((function(e){return e.data}));case 2:return a=e.sent,e.abrupt("return",{type:"login_user",payload:a});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("".concat("/api/users","/register"),t).then((function(e){return e.data}));case 2:return a=e.sent,e.abrupt("return",{type:"register_user",payload:a});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",{type:"auth_user",payload:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("/api/users","/logout")).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",{type:"logout_user",payload:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=a(41),A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function l(l){var i=Object(v.c)((function(e){return e.user})),c=Object(v.b)();return Object(r.useEffect)((function(){c(f()).then(function(){var e=Object(m.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!r.payload.isAuth;case 2:if(!e.sent){e.next=6;break}t&&l.history.push("/login"),e.next=7;break;case 6:(a&&!r.payload.isAdmin||!1===t)&&l.history.push("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c,l.history]),n.a.createElement(e,Object.assign({},l,{user:i}))}return l},y=a(11),w=a(16),x=a(869),S=a(866),k=a(109),j=a(863),O=a(182),I=a(76),N=a.n(I),C=x.a.Title,P=S.a.Meta;var F=Object(c.g)((function(){var e=Object(r.useState)([]),t=Object(y.a)(e,2),a=t[0],l=t[1];Object(r.useEffect)((function(){document.title="My Tube",d.a.get("/api/video/getVideos").then((function(e){e.data.success?l(e.data.videos):alert("Failed to get videos")}))}),[]),a.sort((function(){return.5-Math.random()}));var i=a.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,sm:12,xs:24,style:{marginBottom:"3vh"}},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(P,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")))}));return n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(C,{level:2}," Recommended "),n.a.createElement("hr",null),a&&n.a.createElement(O.a,{gutter:16},i))})),M=a(141),L=a(63),T=a(868),D=a(872),R=a(873),B=a(305),Y=a(864),G=x.a.Title;var q=Object(c.g)((function(e){var t=Object(v.b)(),a=!!localStorage.getItem("rememberMe"),l=Object(r.useState)(""),i=Object(y.a)(l,2),c=i[0],o=i[1],s=Object(r.useState)(a),m=Object(y.a)(s,2),u=m[0],d=m[1],p=function(){d(!u)},E=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):"";return n.a.createElement(M.a,{initialValues:{email:E,password:""},validationSchema:L.a().shape({email:L.c().email("Email is invalid").required("Email is required"),password:L.c().min(8,"Password must be at least 8 characters").required("Password is required")}),onSubmit:function(a,r){var n=r.setSubmitting,l={email:a.email,password:a.password};t(function(e){return b.apply(this,arguments)}(l)).then((function(t){t.payload.loginSuccess?(window.localStorage.setItem("userId",t.payload.userId),!0===u?window.localStorage.setItem("rememberMe",a.email):localStorage.removeItem("rememberMe"),e.history.push("/")):o(t.payload.message)})).catch((function(e){o("Check out your Account or Password again"),setTimeout((function(){o("")}),3e3)})),n(!1)}},(function(e){var t=e.values,a=e.touched,r=e.errors,l=e.isSubmitting,i=e.handleChange,o=e.handleBlur,s=e.handleSubmit;return n.a.createElement("div",{className:"app"},n.a.createElement(G,{level:2},"Log In"),n.a.createElement("form",{onSubmit:s,style:{width:"350px"}},n.a.createElement(T.a.Item,{required:!0},n.a.createElement(D.a,{id:"email",prefix:n.a.createElement(Y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your email",type:"email",value:t.email,onChange:i,onBlur:o,className:r.email&&a.email?"text-input error":"text-input",onPressEnter:s}),r.email&&a.email&&n.a.createElement("div",{className:"input-feedback"},r.email)),n.a.createElement(T.a.Item,{required:!0},n.a.createElement(D.a,{id:"password",prefix:n.a.createElement(Y.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your password",type:"password",value:t.password,onChange:i,onBlur:o,className:r.password&&a.password?"text-input error":"text-input",onPressEnter:s}),r.password&&a.password&&n.a.createElement("div",{className:"input-feedback"},r.password)),c&&n.a.createElement("label",null,n.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},c)),n.a.createElement(T.a.Item,null,n.a.createElement(R.a,{id:"rememberMe",onChange:p,checked:u},"Remember me"),n.a.createElement(w.b,{className:"login-form-forgot",to:"/forgotPassword",style:{float:"right"}},"forgot password"),n.a.createElement("div",null,n.a.createElement(B.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:l,onSubmit:s},"Log in")),"Or ",n.a.createElement(w.b,{to:"/register"},"register now!"))))}))})),z={labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:8},sm:{span:16}}},V={wrapperCol:{xs:{span:24,offset:8},sm:{span:16,offset:8}}};var W=Object(c.g)((function(e){var t=Object(v.b)();return n.a.createElement(M.a,{initialValues:{email:"",lastName:"",firstName:"",password:"",confirmPassword:""},validationSchema:L.a().shape({firstName:L.c().required("First Name is required"),lastName:L.c().required("Last Name is required"),email:L.c().email("Email is invalid").required("Email is required"),password:L.c().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:L.c().oneOf([L.b("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(a,r){var n=r.setSubmitting;setTimeout((function(){var r={email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName,image:"http://gravatar.com/avatar/".concat(N()().unix(),"?d=identicon")};t(function(e){return E.apply(this,arguments)}(r)).then((function(t){t.payload.success?e.history.push("/login"):1===t.payload.err.keyPattern.email?alert("Email Id already Exist..Try a new one"):alert(t.payload.err)})),n(!1)}),500)}},(function(e){var t=e.values,a=e.touched,r=e.errors,l=e.isSubmitting,i=e.handleChange,c=e.handleBlur,o=e.handleSubmit;return n.a.createElement("div",{className:"app"},n.a.createElement("h2",null,"Sign up"),n.a.createElement(T.a,Object.assign({style:{minWidth:"375px"}},z,{onSubmit:o}),n.a.createElement(T.a.Item,{required:!0,label:"Name"},n.a.createElement(D.a,{id:"firstName",placeholder:"Enter your First Name",type:"text",value:t.firstName,onChange:i,onBlur:c,className:r.firstName&&a.firstName?"text-input error":"text-input"}),r.firstName&&a.firstName&&n.a.createElement("div",{className:"input-feedback"},r.firstName)),n.a.createElement(T.a.Item,{required:!0,label:"Last Name"},n.a.createElement(D.a,{id:"lastName",placeholder:"Enter your Last Name",type:"text",value:t.lastName,onChange:i,onBlur:c,className:r.lastName&&a.lastName?"text-input error":"text-input"}),r.lastName&&a.lastName&&n.a.createElement("div",{className:"input-feedback"},r.lastName)),n.a.createElement(T.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:r.email&&a.email?"error":"success"},n.a.createElement(D.a,{id:"email",placeholder:"Enter your Email",type:"email",value:t.email,onChange:i,onBlur:c,className:r.email&&a.email?"text-input error":"text-input"}),r.email&&a.email&&n.a.createElement("div",{className:"input-feedback"},r.email)),n.a.createElement(T.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:r.password&&a.password?"error":"success"},n.a.createElement(D.a,{id:"password",placeholder:"Enter your password",type:"password",value:t.password,onChange:i,onBlur:c,className:r.password&&a.password?"text-input error":"text-input"}),r.password&&a.password&&n.a.createElement("div",{className:"input-feedback"},r.password)),n.a.createElement(T.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},n.a.createElement(D.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:t.confirmPassword,onChange:i,onBlur:c,className:r.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),r.confirmPassword&&a.confirmPassword&&n.a.createElement("div",{className:"input-feedback"},r.confirmPassword)),n.a.createElement(T.a.Item,V,n.a.createElement(B.a,{onClick:o,type:"primary",disabled:l},"Submit"))))}))})),K=a(870),U=K.a.SubMenu;var Q=function(e){var t=Object(v.c)((function(e){return e.user}));return t.userData&&!t.userData.isAuth?n.a.createElement(K.a,{mode:e.mode},n.a.createElement(K.a.Item,{key:"mail"},n.a.createElement(w.b,{to:"/"},"Home")),n.a.createElement(U,{title:n.a.createElement("span",null,"Categories")},n.a.createElement(K.a.Item,{key:"filmAndAnimation"},n.a.createElement(w.b,{to:"/category/filmAndAnimation"},"Film & Animation")),n.a.createElement(K.a.Item,{key:"music"},n.a.createElement(w.b,{to:"/category/music"},"Music")),n.a.createElement(K.a.Item,{key:"gaming"},n.a.createElement(w.b,{to:"/category/gaming"},"Gaming")),n.a.createElement(K.a.Item,{key:"sports"},n.a.createElement(w.b,{to:"/category/sports"},"Sports")))):n.a.createElement(K.a,{mode:e.mode},n.a.createElement(K.a.Item,{key:"mail"},n.a.createElement(w.b,{to:"/"},"Home")),n.a.createElement(U,{title:n.a.createElement("span",null,"Categories")},n.a.createElement(K.a.Item,{key:"filmAndAnimation"},n.a.createElement(w.b,{to:"/category/filmAndAnimation"},"Film & Animation")),n.a.createElement(K.a.Item,{key:"music"},n.a.createElement(w.b,{to:"/category/music"},"Music")),n.a.createElement(K.a.Item,{key:"gaming"},n.a.createElement(w.b,{to:"/category/gaming"},"Gaming")),n.a.createElement(K.a.Item,{key:"sports"},n.a.createElement(w.b,{to:"/category/sports"},"Sports"))),n.a.createElement(K.a.Item,{key:"subscription"},n.a.createElement(w.b,{to:"/subscription"},"Subscriptions")),n.a.createElement(K.a.Item,{key:"liked"},n.a.createElement(w.b,{to:"/likedVideos"},"Liked Videos")),n.a.createElement(K.a.Item,{key:"my-uploads"},n.a.createElement(w.b,{to:"/myUploads"},"My Uploads")))},_=a(874),H=a(875),J=K.a.SubMenu;x.a.Text;var X=Object(c.g)((function(e){var t=Object(v.c)((function(e){return e.user})),a=Object(v.b)(),r=function(e){var t=e.target.value;""===t.trim()?alert("No data entered !!"):window.location.href="/search/".concat(t)};return t.userData&&!t.userData.isAuth?n.a.createElement(K.a,{mode:e.mode},n.a.createElement(K.a.Item,{key:"searchBar"},n.a.createElement(D.a,{onPressEnter:r,placeholder:"Search",suffix:n.a.createElement(_.a,null),size:"middle"})),n.a.createElement(K.a.Item,{key:"mail"},n.a.createElement(w.b,{to:"/login"},"Signin")),n.a.createElement(K.a.Item,{key:"app"},n.a.createElement(w.b,{to:"/register"},"Signup"))):n.a.createElement(K.a,{mode:e.mode},n.a.createElement(K.a.Item,{key:"searchBar"},n.a.createElement(D.a,{onPressEnter:r,placeholder:"Search",suffix:n.a.createElement(_.a,null),size:"middle"})),n.a.createElement(K.a.Item,{key:"upload"},n.a.createElement(w.b,{to:"/video/upload"},n.a.createElement(H.a,{style:{fontSize:"1rem"}}),n.a.createElement("span",null,"Upload"))),n.a.createElement(J,{title:n.a.createElement(j.a,{src:t.userData&&t.userData.image})},n.a.createElement(K.a.Item,{key:"changePassword"},n.a.createElement(w.b,{to:"/changePassword"},"Change Password")),n.a.createElement(K.a.Item,{key:"logout"},n.a.createElement("a",{onClick:function(){a(function(){return h.apply(this,arguments)}()).then((function(t){t.payload.success?e.history.push("/login"):alert("Log Out Failed")}))}},"Logout"))))})),Z=a(871),$=a(876),ee=(a(849),a(457)),te=a.n(ee);var ae=function(){var e=Object(r.useState)(!1),t=Object(y.a)(e,2),a=t[0],l=t[1];return n.a.createElement("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"}},n.a.createElement("div",{className:"menu__logo"},n.a.createElement("a",{href:"/"},n.a.createElement("img",{src:te.a,alt:"Logo",style:{width:"100%"}}))),n.a.createElement("div",{className:"menu__container"},n.a.createElement("div",{className:"menu_left"},n.a.createElement(Q,{mode:"horizontal"})),n.a.createElement("div",{className:"menu_right"},n.a.createElement(X,{mode:"horizontal"})),n.a.createElement(B.a,{className:"menu__mobile-button",type:"primary",onClick:function(){l(!0)}},n.a.createElement($.a,null)),n.a.createElement(Z.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){l(!1)},visible:a},n.a.createElement(Q,{mode:"inline"}),n.a.createElement(X,{mode:"inline"}))))},re=a(877),ne=a(469),le=x.a.Title,ie=D.a.TextArea,ce=[{value:0,label:"Private"},{value:1,label:"Public"}],oe=[{label:"Film & Animation"},{label:"Music"},{label:"Gaming"},{label:"Sports"}];var se=function(e){var t=Object(v.c)((function(e){return e.user})),a=Object(r.useState)(""),l=Object(y.a)(a,2),i=l[0],c=l[1],o=Object(r.useState)(""),s=Object(y.a)(o,2),m=s[0],u=s[1],b=Object(r.useState)(0),E=Object(y.a)(b,2),f=E[0],g=E[1],h=Object(r.useState)("Film & Animation"),A=Object(y.a)(h,2),w=A[0],x=A[1],S=Object(r.useState)(""),k=Object(y.a)(S,2),j=k[0],O=k[1],I=Object(r.useState)(""),N=Object(y.a)(I,2),C=N[0],P=N[1],F=Object(r.useState)(""),M=Object(y.a)(F,2),L=M[0],R=M[1],Y=function(a){if(a.preventDefault(),t.userData&&!t.userData.isAuth)return alert("Please Log in First");if(""===i||""===m||""===w||""===j||""===C||""===L)return alert("Please first fill all the fields");var r={writer:t.userData._id,title:i,description:m,privacy:f,filePath:j,category:w,duration:C,thumbnail:L};d.a.post("/api/video/uploadVideo",r).then((function(t){t.data.success?(alert("Video uploaded succesfully!!"),e.history.push("/")):alert("Failed To Upload Video!")}))};return n.a.createElement("div",{style:{maxWidth:"700px",margin:"2rem auto"}},n.a.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},n.a.createElement(le,{level:2}," Upload Video")),n.a.createElement(T.a,{onSubmit:Y},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},n.a.createElement(ne.a,{onDrop:function(e){var t=new FormData;t.append("file",e[0]),d.a.post("/api/video/uploadFile",t,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var t={filePath:e.data.filePath,fileName:e.data.fileName};O(e.data.filePath),d.a.post("/api/video/thumbnail",t).then((function(e){e.data.success?(P(e.data.fileDuration),console.log(e.data.thumbsFilePath),R(e.data.thumbsFilePath)):alert("Failed to make thumnail")}))}else e.data.typeConflict?alert(e.data.message):alert("Failed to save video")}))},multiple:!1,maxSize:8e8},(function(e){var t=e.getRootProps,a=e.getInputProps;return n.a.createElement("div",Object.assign({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),n.a.createElement("input",a()),n.a.createElement(re.a,{style:{fontSize:"3rem"}}))})),L&&n.a.createElement("div",null,n.a.createElement("img",{src:"".concat(p).concat(L),alt:"Thumbnail"}))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("label",null,"Title"),n.a.createElement(D.a,{onChange:function(e){c(e.currentTarget.value)},value:i}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("label",null,"Description"),n.a.createElement(ie,{onChange:function(e){u(e.currentTarget.value)},value:m}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("select",{onChange:function(e){g(e.currentTarget.value)}},ce.map((function(e,t){return n.a.createElement("option",{key:t,value:e.value},e.label)}))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("select",{onChange:function(e){x(e.currentTarget.value)}},oe.map((function(e,t){return n.a.createElement("option",{key:t,value:e.label},e.label)}))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(B.a,{type:"primary",size:"large",onClick:Y},"Submit")))},me=a(867);var ue=function(){var e=Object(r.useState)([]),t=Object(y.a)(e,2),a=t[0],l=t[1];Object(r.useEffect)((function(){d.a.get("/api/video/getVideos").then((function(e){e.data.success?l(e.data.videos):alert("Failed to get videos")}))}),[]);var i=a.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement("div",{key:t,style:{display:"flex",marginTop:"1rem",padding:"0 1rem"}},n.a.createElement("div",{style:{width:"45%",marginRight:"1rem",position:"relative"}},n.a.createElement("a",{href:"/video/".concat(e._id),style:{color:"gray"}},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{width:"2rem",bottom:15,right:0,margin:"3px",position:"absolute",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("div",{style:{width:"50%"}},n.a.createElement("a",{href:"/video/".concat(e._id),style:{color:"gray"}},n.a.createElement("span",{style:{fontSize:"1em",color:"black"}},e.title),n.a.createElement("br",null),n.a.createElement("span",null,"".concat(e.writer.firstName," ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",null,e.views," views"),n.a.createElement("br",null))))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{marginTop:"3rem"}}),i)},de=a(261);var pe=function(e){var t=Object(v.c)((function(e){return e.user})),a={userTo:e.userTo,userFrom:e.userFrom},l=Object(r.useState)(0),i=Object(y.a)(l,2),c=i[0],o=i[1],s=Object(r.useState)(!1),m=Object(y.a)(s,2),u=m[0],p=m[1];return Object(r.useEffect)((function(){d.a.post("/api/subscribe/subscriberNumber",a).then((function(e){e.data.success?o(e.data.subscriberNumber):alert("Failed to get subscriber number")}),[]),d.a.post("/api/subscribe/subscribed",a).then((function(e){e.data.success?p(e.data.subscribed):alert("Failed to get subscribed info")}))}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,null,n.a.createElement(O.a,null,n.a.createElement("button",{onClick:function(){t.userData&&!t.userData.isAuth?alert("Login first to subscribe"):u?d.a.post("/api/subscribe/unSubscribe",a).then((function(e){e.data.success?(o(c-1),p(!u)):alert("Failed to unsubscribe")})):d.a.post("/api/subscribe/subscribe",a).then((function(e){e.data.success?(o(c+1),p(!u)):alert("Failed to subscribe")}))},style:{color:"white",padding:"10px 16px",fontWeight:"500",fontSize:"1rem",backgroundColor:"".concat(u?"#AAAAAA":"#CC0000"),textTransform:"uppercase",borderRadius:"4px",border:"none"}},u?"Subscribed":"Subscribe")),n.a.createElement(O.a,null,n.a.createElement("span",{style:{fontSize:"1.1em",color:"gray"}},c," subscribers"))))},be=a(882),Ee=a(865),fe=a(211),ge=a(878),he=a(879),ve=a(880),Ae=a(881);var ye=function(e){var t=Object(v.c)((function(e){return e.user})),a=Object(r.useState)(0),l=Object(y.a)(a,2),i=l[0],c=l[1],o=Object(r.useState)(null),s=Object(y.a)(o,2),m=s[0],u=s[1],p=Object(r.useState)(0),b=Object(y.a)(p,2),E=b[0],f=b[1],g=Object(r.useState)(null),h=Object(y.a)(g,2),A=h[0],w=h[1],x={};return x=e.video?{videoId:e.videoId,userId:e.userId}:{commentId:e.commentId,userId:e.userId},Object(r.useEffect)((function(){d.a.post("/api/like/getLikes",x).then((function(t){t.data.success?(c(t.data.likes.length),t.data.likes.map((function(t){t.userId===e.userId&&u("liked")}))):alert("Failed to get likes")}),[]),d.a.post("/api/like/getDislikes",x).then((function(t){t.data.success?(f(t.data.dislikes.length),t.data.dislikes.map((function(t){t.userId===e.userId&&w("disliked")}))):alert("Failed to get dislikes")}))}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{key:"comment-basic-like",onClick:function(){t.userData&&!t.userData.isAuth?alert("Login first to like"):null===m?d.a.post("/api/like/dolike",x).then((function(e){e.data.success?(c(i+1),u("liked"),null!==A&&(f(E-1),w(null))):alert("Failed to increase like")})):d.a.post("/api/like/unlike",x).then((function(e){e.data.success?(c(i-1),u(null)):alert("Failed to decrease like")}))}},n.a.createElement(fe.a,{title:"Like"},"liked"===m?n.a.createElement(ge.a,{style:{fontSize:"1rem"}}):n.a.createElement(he.a,{style:{fontSize:"1rem"}})),n.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},i)),"\xa0\xa0",n.a.createElement("span",{key:"comment-basic-dislike",onClick:function(){t.userData&&!t.userData.isAuth?alert("Login first to like"):null===A?d.a.post("/api/like/dodislike",x).then((function(e){e.data.success?(f(E+1),w("disliked"),null!==m&&(c(i-1),u(null))):alert("Failed to increase dislike")})):d.a.post("/api/like/undislike",x).then((function(e){e.data.success?(f(E-1),w(null)):alert("Failed to decrease dislike")}))}},n.a.createElement(fe.a,{title:"Dislike"},"disliked"===A?n.a.createElement(ve.a,{style:{fontSize:"1rem"}}):n.a.createElement(Ae.a,{style:{fontSize:"1rem"}})),n.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},E)))},we=D.a.TextArea;var xe=function(e){var t=Object(v.c)((function(e){return e.user})),a=Object(r.useState)(""),l=Object(y.a)(a,2),i=l[0],c=l[1],o=Object(r.useState)(!1),s=Object(y.a)(o,2),m=s[0],u=s[1],p=[n.a.createElement(ye,{comment:!0,commentId:e.comment._id,userId:localStorage.getItem("userId")}),n.a.createElement("span",{onClick:function(){u(!m)},key:"comment-basic-reply-to"},"Reply to"," ","".concat(e.comment.writer.firstName," ").concat(e.comment.writer.lastName))],b=function(a){if(a.preventDefault(),t.userData&&t.userData.isAuth)if(i){var r={content:i,writer:t.userData._id,postId:e.postId,responseTo:e.comment._id};d.a.post("/api/comment/saveComment",r).then((function(t){t.data.success?(c(""),u(!m),e.refreshFunction(t.data.result)):alert("Failed to add reply")}))}else alert("Comment can't be empty");else alert("Login First")};return n.a.createElement("div",null,n.a.createElement(Ee.a,{actions:p,author:"".concat(e.comment.writer.firstName," ").concat(e.comment.writer.lastName),avatar:n.a.createElement(j.a,{src:e.comment.writer.image,alt:"image"}),content:n.a.createElement("p",null,e.comment.content)}),m&&n.a.createElement("form",{style:{display:"flex"},onSubmit:b},n.a.createElement(we,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){c(e.currentTarget.value)},value:i,placeholder:"Add a reply..",onPressEnter:b}),n.a.createElement("br",null),n.a.createElement(B.a,{style:{width:"20%",height:"52px"},onClick:b}," ",n.a.createElement(be.a,null))))};var Se=function e(t){var a,l=Object(r.useState)(0),i=Object(y.a)(l,2),c=i[0],o=i[1],s=Object(r.useState)(!1),m=Object(y.a)(s,2),u=m[0],d=m[1];return Object(r.useEffect)((function(){var e=0;t.CommentList.map((function(a){a.responseTo===t.parentCommentId&&e++})),o(e)}),[t.CommentList,t.parentCommentId]),n.a.createElement("div",null,c>0&&n.a.createElement("a",{onClick:function(){d(!u)}},n.a.createElement("p",{style:{fontSize:"14px",margin:0,color:"gray"}},"View ",c," more comment(s)")),u&&(a=t.parentCommentId,t.CommentList.map((function(r,l){return n.a.createElement(n.a.Fragment,null,r.responseTo===a&&n.a.createElement("div",{style:{marginLeft:"50px",width:"80%"}},n.a.createElement(xe,{comment:r,postId:t.postId,refreshFunction:t.refreshFunction}),n.a.createElement(e,{CommentList:t.CommentList,postId:t.postId,refreshFunction:t.refreshFunction,parentCommentId:r._id})))}))))},ke=D.a.TextArea;var je=function(e){var t=Object(v.c)((function(e){return e.user})),a=Object(r.useState)(""),l=Object(y.a)(a,2),i=l[0],c=l[1],o=function(a){if(a.preventDefault(),t.userData._id)if(i){var r={content:i,writer:t.userData._id,postId:e.postId};d.a.post("/api/comment/saveComment",r).then((function(t){t.data.success?(c(""),e.refreshFunction(t.data.result)):alert("Failed to add comment")}))}else alert("Comment can't be empty");else alert("login first")};return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("p",null,"Replies"),n.a.createElement("hr",null),e.CommentList&&e.CommentList.map((function(t,a){return!t.responseTo&&n.a.createElement(n.a.Fragment,null,n.a.createElement(xe,{comment:t,postId:e.postId,refreshFunction:e.refreshFunction}),n.a.createElement(Se,{CommentList:e.CommentList,postId:e.postId,refreshFunction:e.refreshFunction,parentCommentId:t._id}))})),n.a.createElement("form",{style:{display:"flex",borderRadius:"5px"},onSubmit:o},n.a.createElement(ke,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){c(e.currentTarget.value)},value:i,placeholder:"Add a comment...",onPressEnter:o}),n.a.createElement("br",null),n.a.createElement(B.a,{style:{width:"20%",height:"52px"},onClick:o},n.a.createElement(be.a,null))))},Oe=x.a.Title;var Ie=function(e){var t=e.match.params.videoId,a={videoId:t},l=Object(r.useState)([]),i=Object(y.a)(l,2),c=i[0],o=i[1],s=Object(r.useState)([]),m=Object(y.a)(s,2),u=m[0],b=m[1];return Object(r.useEffect)((function(){d.a.post("/api/video/getVideo",a).then((function(e){e.data.success?o(e.data.video):alert("Failed to get video")})),d.a.post("/api/comment/getComments",a).then((function(e){e.data.success?b(e.data.comments):alert("Failed to get video")}))}),[]),c.writer?n.a.createElement(n.a.Fragment,null,n.a.createElement(de.a,null,n.a.createElement("title",null,c.title)),n.a.createElement(O.a,null,n.a.createElement(k.a,{lg:17,xs:24},n.a.createElement("div",{className:"postPage",style:{width:"100%",padding:"2rem 2em"}},n.a.createElement("video",{style:{width:"100%"},src:"".concat(p).concat(c.filePath),controls:!0,autoPlay:!0,loop:!0}),n.a.createElement(O.a,null,n.a.createElement(k.a,{lg:15,sm:14,xs:24},n.a.createElement(me.b.Item,null,n.a.createElement(me.b.Item.Meta,{avatar:n.a.createElement(j.a,{src:c.writer&&c.writer.image}),title:n.a.createElement(Oe,{level:4},c.title),description:n.a.createElement("span",{style:{fontSize:"1.3em",color:"black"}},c.writer.firstName," ",c.writer.lastName," -"," ",c.views," views")}))),n.a.createElement(k.a,{lg:1,sm:1,xs:24},n.a.createElement(me.b.Item,{actions:[n.a.createElement(O.a,null,n.a.createElement(ye,{video:!0,videoId:t,userId:localStorage.getItem("userId")})),n.a.createElement(O.a,null,n.a.createElement(pe,{userTo:c.writer._id,userFrom:localStorage.getItem("userId")}))]}))),n.a.createElement(me.b.Item,null,n.a.createElement(me.b.Item.Meta,{description:c.description})),n.a.createElement(je,{CommentList:u,postId:c._id,refreshFunction:function(e){b(u.concat(e))}}))),n.a.createElement(k.a,{lg:7,xs:24},n.a.createElement(ue,null)))):n.a.createElement("div",null)},Ne=x.a.Title,Ce=S.a.Meta;var Pe=function(){var e,t,a=Object(v.c)((function(e){return e.user})),l=Object(r.useState)([]),i=Object(y.a)(l,2),c=i[0],o=i[1],s={userFrom:null===a||void 0===a||null===(e=a.userData)||void 0===e?void 0:e._id};Object(r.useEffect)((function(){document.title="Subscribed Videos",d.a.post("/api/video/getSubscriptionVideos",s).then((function(e){e.data.success?o(e.data.videos):alert("Failed to get Subscribed videos")}))}),[null===a||void 0===a||null===(t=a.userData)||void 0===t?void 0:t._id]);var m=c.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,xs:24},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(Ce,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")),n.a.createElement("br",null),n.a.createElement("br",null))}));return c.length>0?n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(Ne,{level:2}," Subscribed Videos "),n.a.createElement("hr",null),c&&n.a.createElement(O.a,{gutter:16},m)):n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(Ne,{level:2}," No Subscribed Videos "))},Fe=a(883),Me=x.a.Title,Le=S.a.Meta;var Te=Object(c.g)((function(e){var t=e.match.params.categoryName,a=Object(r.useState)([]),l=Object(y.a)(a,2),i=l[0],c=l[1],o=Object(r.useState)(""),s=Object(y.a)(o,2),m=s[0],u=s[1];Object(r.useEffect)((function(){switch(t){case"filmAndAnimation":u("Film & Animation");break;case"music":u("Music");break;case"gaming":u("Gaming");break;case"sports":u("Sports");break;default:u("")}d.a.get("/api/video/getVideos").then((function(e){e.data.success?c(e.data.videos):alert("Failed to get videos")}))}),[t]),i.sort((function(){return.5-Math.random()}));var b=i.map((function(e,t){if(e.category===m){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,xs:24},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(Le,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")),n.a.createElement("br",null),n.a.createElement("br",null))}}));return i?n.a.createElement(n.a.Fragment,null,n.a.createElement(de.a,null,n.a.createElement("title",null,m)),n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(Me,{level:2},m),n.a.createElement("hr",null),i&&n.a.createElement(O.a,{gutter:16},b))):0===i.length()?n.a.createElement("div",{className:"app "},n.a.createElement(Me,{level:2},"No videos of this Category")):n.a.createElement("div",{className:"app "},n.a.createElement(Fe.a,{style:{fontSize:"5rem"}}))})),De=x.a.Title,Re=S.a.Meta;var Be=Object(c.g)((function(e){var t=e.match.params.searchString,a=Object(r.useState)([]),l=Object(y.a)(a,2),i=l[0],c=l[1];Object(r.useEffect)((function(){var e={searchString:t};d.a.post("/api/video/search",e).then((function(e){e.data.success?(console.log(e.data.videos),c(e.data.videos)):alert("failed to get search")}))}),[]);var o=i.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,xs:24},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(Re,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")),n.a.createElement("br",null),n.a.createElement("br",null))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},i.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(De,{level:2},"Search Results"),n.a.createElement("hr",null),n.a.createElement(O.a,{gutter:16},o)),0===i.length&&n.a.createElement(De,{level:1},"Ooops ..... No videos Found")))})),Ye=x.a.Title,Ge=S.a.Meta;var qe=function(){var e,t,a=Object(v.c)((function(e){return e.user})),l=Object(r.useState)([]),i=Object(y.a)(l,2),c=i[0],o=i[1],s={userId:null===a||void 0===a||null===(e=a.userData)||void 0===e?void 0:e._id};Object(r.useEffect)((function(){document.title="Liked Videos",d.a.post("/api/video/getLikedVideos",s).then((function(e){e.data.success?o(e.data.videos):alert("Failed to get Subscribed videos")}))}),[null===a||void 0===a||null===(t=a.userData)||void 0===t?void 0:t._id]);var m=c.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,xs:24},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(Ge,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")),n.a.createElement("br",null),n.a.createElement("br",null))}));return c.length>0?n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(Ye,{level:2}," Liked Videos "),n.a.createElement("hr",null),c&&n.a.createElement(O.a,{gutter:16},m)):n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(Ye,{level:2}," No Liked Videos "))},ze=x.a.Title,Ve=function(){return n.a.createElement("div",{className:"app"},n.a.createElement(ze,{level:2},"404 ... Page Not Found"))},We=S.a.Meta,Ke=x.a.Title,Ue=function(e){var t=Object(r.useState)([]),a=Object(y.a)(t,2),l=a[0],i=a[1],c=Object(r.useState)([]),o=Object(y.a)(c,2),s=o[0],m=o[1],u={userId:e.match.params.profileId};Object(r.useEffect)((function(){d.a.post("".concat("/api/users","/getUser"),u).then((function(e){if(e.data.success){i(e.data.user[0]);var t={writer:e.data.user[0]};d.a.post("/api/video/getUserVideos",t).then((function(e){e.data.success?m(e.data.videos):alert("Failed to get videos")}))}else alert("Failed to fetch profile!")}))}),[]);var b=s.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,xs:24,style:{marginBottom:"3vh"}},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(We,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")))}));return l._id?n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},n.a.createElement(O.a,null,n.a.createElement(k.a,{lg:17,sm:16,xs:24},n.a.createElement(me.b.Item,null,n.a.createElement(me.b.Item.Meta,{avatar:n.a.createElement(j.a,{size:70,src:l&&l.image}),title:n.a.createElement(Ke,null,l&&"".concat(l.firstName," ").concat(l.lastName))}))),n.a.createElement(k.a,{lg:4,sm:4,xs:24,offset:3},n.a.createElement(me.b.Item,{actions:[n.a.createElement(pe,{userTo:l._id,userFrom:localStorage.getItem("userId")})]}))),n.a.createElement("hr",null),s&&n.a.createElement(O.a,{gutter:16},b)):n.a.createElement("div",{className:"app "},n.a.createElement(Fe.a,{style:{fontSize:"5rem"}}))},Qe=x.a.Title,_e=Object(c.g)((function(e){var t=Object(r.useState)(""),a=Object(y.a)(t,2),l=a[0],i=a[1],c=Object(r.useState)(""),o=Object(y.a)(c,2),s=o[0],m=o[1];return n.a.createElement(M.a,{initialValues:{email:""},validationSchema:L.a().shape({email:L.c().email("Email is invalid").required("Email is required")}),onSubmit:function(e,t){var a=t.setSubmitting,r={email:e.email};console.log(r),d.a.post("".concat("/api/users","/forgotPassword"),r).then((function(e){e.data.success?m(e.data.message):i(e.data.message)})),a(!1)}},(function(e){var t=e.values,a=e.touched,r=e.errors,i=e.isSubmitting,c=e.handleChange,o=e.handleBlur,m=e.handleSubmit;return n.a.createElement("div",{className:"app"},n.a.createElement(Qe,{level:2},"Password Change Request"),n.a.createElement("form",{onSubmit:m,style:{width:"350px"}},n.a.createElement(T.a.Item,{required:!0},n.a.createElement(D.a,{id:"email",placeholder:"Enter your email",type:"email",value:t.email,onChange:c,onBlur:o,className:r.email&&a.email?"text-input error":"text-input",onPressEnter:m}),r.email&&a.email&&n.a.createElement("div",{className:"input-feedback"},r.email)),l&&n.a.createElement("label",null,n.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},l)),s&&n.a.createElement("label",null,n.a.createElement("p",{style:{color:"#90ff5e",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},s)),n.a.createElement("div",null,n.a.createElement(B.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:i,onSubmit:m},"Send Reset Email"))))}))})),He=x.a.Title,Je=Object(c.g)((function(e){var t=Object(r.useState)(""),a=Object(y.a)(t,2),l=a[0],i=a[1],c=Object(r.useState)(""),o=Object(y.a)(c,2),s=o[0],m=o[1];return n.a.createElement(M.a,{initialValues:{password:"",confirmPassword:""},validationSchema:L.a().shape({password:L.c().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:L.c().oneOf([L.b("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(t,a){var r=a.setSubmitting,n={password:t.password,resetPasswordToken:e.match.params.token};console.log(n),d.a.post("".concat("/api/users","/reset"),n).then((function(e){e.data.success?m(e.data.message):i(e.data.message)})),r(!1)}},(function(e){var t=e.values,a=e.touched,r=e.errors,i=e.isSubmitting,c=e.handleChange,o=e.handleBlur,m=e.handleSubmit;return n.a.createElement("div",{className:"app"},n.a.createElement(He,{level:2}," Reset Password "),n.a.createElement("form",{onSubmit:m,style:{width:"350px"}},n.a.createElement(T.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:r.password&&a.password?"error":"success"},n.a.createElement(D.a,{id:"password",placeholder:"Enter your password",type:"password",value:t.password,onChange:c,onBlur:o,className:r.password&&a.password?"text-input error":"text-input"}),r.password&&a.password&&n.a.createElement("div",{className:"input-feedback"},r.password)),n.a.createElement(T.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},n.a.createElement(D.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:t.confirmPassword,onChange:c,onBlur:o,className:r.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),r.confirmPassword&&a.confirmPassword&&n.a.createElement("div",{className:"input-feedback"},r.confirmPassword)),l&&n.a.createElement("label",null,n.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},l)),s&&n.a.createElement("label",null,n.a.createElement("p",{style:{color:"#90ff5e",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},s)),n.a.createElement("div",null,n.a.createElement(B.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:i,onSubmit:m},"Reset"))))}))})),Xe=S.a.Meta,Ze=x.a.Title,$e=function(){var e,t=Object(v.c)((function(e){return e.user})),a=Object(r.useState)([]),l=Object(y.a)(a,2),i=l[0],c=l[1],o={writer:null===t||void 0===t?void 0:t.userData};Object(r.useEffect)((function(){d.a.post("/api/video/getUserVideos",o).then((function(e){e.data.success?c(e.data.videos):alert("Failed to get videos")}))}),[null===t||void 0===t||null===(e=t.userData)||void 0===e?void 0:e._id]);var s=i.map((function(e,t){var a=Math.floor(e.duration/60),r=Math.floor(e.duration-60*a);return n.a.createElement(k.a,{key:t,lg:6,md:8,xs:24,style:{marginBottom:"3vh"}},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(w.b,{to:"/video/".concat(e._id)},n.a.createElement("img",{style:{width:"100%"},src:"".concat(p).concat(e.thumbnail),alt:"thumbnail"}),n.a.createElement("div",{className:"duration",style:{bottom:0,right:0,position:"absolute",margin:"4px",color:"white",backgroundColor:"black",opacity:.8,padding:"2px 4px",borderRadius:"2px",letterSpacing:"0.5px",fontSize:"12px",fontWeight:"500",lineHeight:"12px"}},n.a.createElement("span",null,a,":",r)))),n.a.createElement("br",null),n.a.createElement(Xe,{avatar:n.a.createElement(j.a,{src:e.writer.image}),title:e.title}),n.a.createElement(w.b,{to:"/channel/".concat(e.writer._id),style:{color:"black"}},"".concat(e.writer.firstName,"\n            ").concat(e.writer.lastName)),n.a.createElement("br",null),n.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," -"," ",n.a.createElement("span",null,N()(e.createdAt).format("MMM Do YY")))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},i.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ze,{level:2},"My Uploads"),n.a.createElement("hr",null),n.a.createElement(O.a,{gutter:16},s)),0===i.length&&n.a.createElement(Ze,{level:1},"No Uploads Yet")))};var et=function(){return n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",null,"Loading.... ")},n.a.createElement(ae,null),n.a.createElement("div",{style:{paddingTop:"69px",minHeight:"calc(100vh - 80px)"}},n.a.createElement(c.d,null,n.a.createElement(c.b,{exact:!0,path:"/video/upload",component:A(se,!0)}),n.a.createElement(c.b,{exact:!0,path:"/category/:categoryName",component:A(Te,null)}),n.a.createElement(c.b,{exact:!0,path:"/search/:searchString",component:A(Be,null)}),n.a.createElement(c.b,{exact:!0,path:"/video/:videoId",component:A(Ie,null)}),n.a.createElement(c.b,{exact:!0,path:"/channel/:profileId",component:A(Ue,null)}),n.a.createElement(c.b,{exact:!0,path:"/reset/:token",component:A(Je,null)}),n.a.createElement(c.b,{exact:!0,path:"/login",component:A(q,!1)}),n.a.createElement(c.b,{exact:!0,path:"/register",component:A(W,!1)}),n.a.createElement(c.b,{exact:!0,path:"/subscription",component:A(Pe,!0)}),n.a.createElement(c.b,{exact:!0,path:"/likedVideos",component:A(qe,!0)}),n.a.createElement(c.b,{exact:!0,path:"/myUploads",component:A($e,!0)}),n.a.createElement(c.b,{exact:!0,path:"/forgotPassword",component:A(_e,!1)}),n.a.createElement(c.b,{exact:!0,path:"/changePassword",component:A(_e,!0)}),n.a.createElement(c.b,{exact:!0,path:"/notFound",component:A(Ve,null)}),n.a.createElement(c.b,{exact:!0,path:"/",component:A(F,null)}),n.a.createElement(c.a,{to:"/notFound"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=a(151),at=a(466),rt=a.n(at),nt=a(467),lt=a(131),it=Object(tt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login_user":return Object(lt.a)(Object(lt.a)({},e),{},{loginSuccess:t.payload});case"register_user":return Object(lt.a)(Object(lt.a)({},e),{},{register:t.payload});case"auth_user":return Object(lt.a)(Object(lt.a)({},e),{},{userData:t.payload});case"logout_user":return Object(lt.a)(Object(lt.a)({},e),{},{logoutSuccess:t.payload});default:return e}}}),ct=Object(tt.a)(rt.a,nt.a)(tt.d);i.a.render(n.a.createElement(v.a,{store:ct(it,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},n.a.createElement(w.a,null,n.a.createElement(et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[474,1,2]]]);
//# sourceMappingURL=main.cfdde1e8.chunk.js.map