(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[27],{706:function(e,t,s){"use strict";s.r(t);var r=s(556),a=s(1),c=s.n(a),u=s(67),n=s.n(u),b=s(68),i=s(603),o=s(602);t.default=function(e){var t=Object(b.c)((function(e){return e.user})),s={userTo:e.userTo,userFrom:e.userFrom},u=Object(a.useState)(0),l=Object(r.a)(u,2),d=l[0],p=l[1],f=Object(a.useState)(!1),m=Object(r.a)(f,2),h=m[0],g=m[1];return Object(a.useEffect)((function(){n.a.post("/api/subscribe/subscriberNumber",s).then((function(e){e.data.success?p(e.data.subscriberNumber):alert("Failed to get subscriber number")}),[]),n.a.post("/api/subscribe/subscribed",s).then((function(e){e.data.success?g(e.data.subscribed):alert("Failed to get subscribed info")}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement(o.a,null,c.a.createElement("button",{onClick:function(){t.userData&&!t.userData.isAuth?alert("Login first to subscribe"):h?n.a.post("/api/subscribe/unSubscribe",s).then((function(e){e.data.success?(p(d-1),g(!h)):alert("Failed to unsubscribe")})):n.a.post("/api/subscribe/subscribe",s).then((function(e){e.data.success?(p(d+1),g(!h)):alert("Failed to subscribe")}))},style:{color:"white",padding:"10px 16px",fontWeight:"500",fontSize:"1rem",backgroundColor:"".concat(h?"#AAAAAA":"#CC0000"),textTransform:"uppercase",borderRadius:"4px",border:"none"}},h?"Subscribed":"Subscribe")),c.a.createElement(o.a,null,c.a.createElement("span",{style:{fontSize:"1.1em",color:"gray"}},d," subscribers"))))}}}]);
//# sourceMappingURL=27.61816683.chunk.js.map