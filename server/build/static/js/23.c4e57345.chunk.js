(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[23,25],{708:function(e,t,a){"use strict";a.r(t);var n=a(556),c=a(1),r=a.n(c),l=a(734),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"},s=a(149),o=function(e,t){return c.createElement(s.a,Object.assign({},e,{ref:t,icon:i}))};o.displayName="LikeFilled";var m=c.forwardRef(o),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"},d=function(e,t){return c.createElement(s.a,Object.assign({},e,{ref:t,icon:u}))};d.displayName="LikeOutlined";var f=c.forwardRef(d),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H273v428h.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32z"}}]},name:"dislike",theme:"filled"},h=function(e,t){return c.createElement(s.a,Object.assign({},e,{ref:t,icon:p}))};h.displayName="DislikeFilled";var v=c.forwardRef(h),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"},g=function(e,t){return c.createElement(s.a,Object.assign({},e,{ref:t,icon:E}))};g.displayName="DislikeOutlined";var b=c.forwardRef(g),k=a(67),y=a.n(k),O=a(68);t.default=function(e){var t=Object(O.c)((function(e){return e.user})),a=Object(c.useState)(0),i=Object(n.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(null),d=Object(n.a)(u,2),p=d[0],h=d[1],E=Object(c.useState)(0),g=Object(n.a)(E,2),k=g[0],I=g[1],C=Object(c.useState)(null),j=Object(n.a)(C,2),w=j[0],x=j[1],F={};return F=e.video?{videoId:e.videoId,userId:e.userId}:{commentId:e.commentId,userId:e.userId},Object(c.useEffect)((function(){y.a.post("/api/like/getLikes",F).then((function(t){t.data.success?(o(t.data.likes.length),t.data.likes.map((function(t){t.userId===e.userId&&h("liked")}))):alert("Failed to get likes")}),[]),y.a.post("/api/like/getDislikes",F).then((function(t){t.data.success?(I(t.data.dislikes.length),t.data.dislikes.map((function(t){t.userId===e.userId&&x("disliked")}))):alert("Failed to get dislikes")}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{key:"comment-basic-like",onClick:function(){t.userData&&!t.userData.isAuth?alert("Login first to like"):null===p?y.a.post("/api/like/dolike",F).then((function(e){e.data.success?(o(s+1),h("liked"),null!==w&&(I(k-1),x(null))):alert("Failed to increase like")})):y.a.post("/api/like/unlike",F).then((function(e){e.data.success?(o(s-1),h(null)):alert("Failed to decrease like")}))}},r.a.createElement(l.a,{title:"Like"},"liked"===p?r.a.createElement(m,{style:{fontSize:"1rem"}}):r.a.createElement(f,{style:{fontSize:"1rem"}})),r.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},s)),"\xa0\xa0",r.a.createElement("span",{key:"comment-basic-dislike",onClick:function(){t.userData&&!t.userData.isAuth?alert("Login first to like"):null===w?y.a.post("/api/like/dodislike",F).then((function(e){e.data.success?(I(k+1),x("disliked"),null!==p&&(o(s-1),h(null))):alert("Failed to increase dislike")})):y.a.post("/api/like/undislike",F).then((function(e){e.data.success?(I(k-1),x(null)):alert("Failed to decrease dislike")}))}},r.a.createElement(l.a,{title:"Dislike"},"disliked"===w?r.a.createElement(v,{style:{fontSize:"1rem"}}):r.a.createElement(b,{style:{fontSize:"1rem"}})),r.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},k)))}},868:function(e,t,a){"use strict";a.r(t);var n=a(556),c=a(1),r=a.n(c),l=a(890),i=a(869),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},o=a(149),m=function(e,t){return c.createElement(o.a,Object.assign({},e,{ref:t,icon:s}))};m.displayName="SendOutlined";var u=c.forwardRef(m),d=a(67),f=a.n(d),p=a(68),h=a(539),v=a.n(h),E=a(540),g=a.n(E),b=a(114),k=a.n(b),y=a(679),O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},I=function(e){var t=e.actions,a=e.author,n=e.avatar,r=e.children,l=e.className,i=e.content,s=e.prefixCls,o=e.datetime,m=O(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),u=c.useContext(y.b),d=u.getPrefixCls,f=u.direction,p=d("comment",s),h=n?c.createElement("div",{className:"".concat(p,"-avatar")},"string"===typeof n?c.createElement("img",{src:n,alt:"comment-avatar"}):n):null,E=t&&t.length?c.createElement("ul",{className:"".concat(p,"-actions")},t.map((function(e,t){return c.createElement("li",{key:"action-".concat(t)},e)}))):null,b=(a||o)&&c.createElement("div",{className:"".concat(p,"-content-author")},a&&c.createElement("span",{className:"".concat(p,"-content-author-name")},a),o&&c.createElement("span",{className:"".concat(p,"-content-author-time")},o)),I=c.createElement("div",{className:"".concat(p,"-content")},b,c.createElement("div",{className:"".concat(p,"-content-detail")},i),E),C=k()(p,l,g()({},"".concat(p,"-rtl"),"rtl"===f));return c.createElement("div",v()({},m,{className:C}),c.createElement("div",{className:"".concat(p,"-inner")},h,I),r?function(e,t){return c.createElement("div",{className:k()("".concat(e,"-nested"))},t)}(p,r):null)},C=a(787),j=a(708),w=l.a.TextArea;var x=function(e){var t=Object(p.c)((function(e){return e.user})),a=Object(c.useState)(""),l=Object(n.a)(a,2),s=l[0],o=l[1],m=Object(c.useState)(!1),d=Object(n.a)(m,2),h=d[0],v=d[1],E=[r.a.createElement(j.default,{comment:!0,commentId:e.comment._id,userId:localStorage.getItem("userId")}),r.a.createElement("span",{onClick:function(){v(!h)},key:"comment-basic-reply-to"},"Reply to"," ","".concat(e.comment.writer.firstName," ").concat(e.comment.writer.lastName))],g=function(a){if(a.preventDefault(),t.userData&&t.userData.isAuth)if(s){var n={content:s,writer:t.userData._id,postId:e.postId,responseTo:e.comment._id};f.a.post("/api/comment/saveComment",n).then((function(t){t.data.success?(o(""),v(!h),e.refreshFunction(t.data.result)):alert("Failed to add reply")}))}else alert("Comment can't be empty");else alert("Login First")};return r.a.createElement("div",null,r.a.createElement(I,{actions:E,author:"".concat(e.comment.writer.firstName," ").concat(e.comment.writer.lastName),avatar:r.a.createElement(C.a,{src:e.comment.writer.image,alt:"image"}),content:r.a.createElement("p",null,e.comment.content)}),h&&r.a.createElement("form",{style:{display:"flex"},onSubmit:g},r.a.createElement(w,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){o(e.currentTarget.value)},value:s,placeholder:"Add a reply..",onPressEnter:g}),r.a.createElement("br",null),r.a.createElement(i.a,{style:{width:"20%",height:"52px"},onClick:g}," ",r.a.createElement(u,null))))};var F=function e(t){var a,l=Object(c.useState)(0),i=Object(n.a)(l,2),s=i[0],o=i[1],m=Object(c.useState)(!1),u=Object(n.a)(m,2),d=u[0],f=u[1];return Object(c.useEffect)((function(){var e=0;t.CommentList.map((function(a){a.responseTo===t.parentCommentId&&e++})),o(e)}),[t.CommentList,t.parentCommentId]),r.a.createElement("div",null,s>0&&r.a.createElement("a",{onClick:function(){f(!d)}},r.a.createElement("p",{style:{fontSize:"14px",margin:0,color:"gray"}},"View ",s," more comment(s)")),d&&(a=t.parentCommentId,t.CommentList.map((function(n,c){return r.a.createElement(r.a.Fragment,null,n.responseTo===a&&r.a.createElement("div",{style:{marginLeft:"50px",width:"80%"}},r.a.createElement(x,{comment:n,postId:t.postId,refreshFunction:t.refreshFunction}),r.a.createElement(e,{CommentList:t.CommentList,postId:t.postId,refreshFunction:t.refreshFunction,parentCommentId:n._id})))}))))},L=l.a.TextArea;t.default=function(e){var t=Object(p.c)((function(e){return e.user})),a=Object(c.useState)(""),l=Object(n.a)(a,2),s=l[0],o=l[1],m=function(a){if(a.preventDefault(),t.userData._id)if(s){var n={content:s,writer:t.userData._id,postId:e.postId};f.a.post("/api/comment/saveComment",n).then((function(t){t.data.success?(o(""),e.refreshFunction(t.data.result)):alert("Failed to add comment")}))}else alert("Comment can't be empty");else alert("login first")};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,"Replies"),r.a.createElement("hr",null),e.CommentList&&e.CommentList.map((function(t,a){return!t.responseTo&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{comment:t,postId:e.postId,refreshFunction:e.refreshFunction}),r.a.createElement(F,{CommentList:e.CommentList,postId:e.postId,refreshFunction:e.refreshFunction,parentCommentId:t._id}))})),r.a.createElement("form",{style:{display:"flex",borderRadius:"5px"},onSubmit:m},r.a.createElement(L,{style:{width:"100%",borderRadius:"5px"},onChange:function(e){o(e.currentTarget.value)},value:s,placeholder:"Add a comment...",onPressEnter:m}),r.a.createElement("br",null),r.a.createElement(i.a,{style:{width:"20%",height:"52px"},onClick:m},r.a.createElement(u,null))))}}}]);
//# sourceMappingURL=23.c4e57345.chunk.js.map